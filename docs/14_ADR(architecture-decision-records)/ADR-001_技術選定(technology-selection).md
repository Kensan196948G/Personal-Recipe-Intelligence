# ADR-001: 技術選定 (Technology Selection)

## ステータス
採用

## コンテキスト

Personal Recipe Intelligence (PRI) プロジェクトを開始するにあたり、以下の技術選定が必要である：

1. バックエンドフレームワーク
2. フロントエンドフレームワーク
3. データベース
4. パッケージマネージャー/ランタイム

### 制約条件

- Ubuntu CLI 環境（GUI なし）
- SSH 経由での開発
- VSCode 不使用
- tmux 不使用
- 個人利用向け（シンプルさ優先）

## 検討した選択肢

### バックエンド

| 選択肢 | 長所 | 短所 |
|--------|------|------|
| FastAPI | 高速、型安全、自動ドキュメント | Python限定 |
| Flask | シンプル、柔軟 | 型サポート弱い |
| Express | JS統一可能 | 型サポート弱い |

### フロントエンド

| 選択肢 | 長所 | 短所 |
|--------|------|------|
| Svelte | 軽量、高速、シンプル | エコシステム小さい |
| React | 大きなエコシステム | バンドルサイズ大 |
| Vue | バランス良い | 学習コスト |

### データベース

| 選択肢 | 長所 | 短所 |
|--------|------|------|
| SQLite | サーバーレス、簡単 | 同時接続制限 |
| PostgreSQL | 高機能、スケーラブル | セットアップ必要 |
| MongoDB | 柔軟なスキーマ | スキーマ管理困難 |

### パッケージマネージャー

| 選択肢 | 長所 | 短所 |
|--------|------|------|
| Bun | 高速、オールインワン | 新しい、互換性 |
| npm | 標準、安定 | 遅い |
| pnpm | 高速、効率的 | 設定必要 |

## 決定

以下の技術スタックを採用する：

- **バックエンド**: FastAPI + SQLModel
- **フロントエンド**: Svelte + Vite
- **データベース**: SQLite
- **パッケージマネージャー**: Bun

## 理由

### FastAPI
- Python の型ヒントをフル活用
- 自動 OpenAPI ドキュメント生成
- 非同期処理のネイティブサポート
- 学習コストが低い

### Svelte
- コンパイル時最適化による軽量バンドル
- 仮想 DOM なしの高速レンダリング
- シンプルな構文
- 個人プロジェクトに最適なサイズ

### SQLite
- サーバーレス（設定不要）
- ファイルベース（バックアップ容易）
- 個人利用には十分な性能
- ポータビリティ

### Bun
- npm より高速なインストール
- TypeScript ネイティブサポート
- オールインワン（ランタイム + パッケージマネージャー）

## 結果

### 良い影響

- 開発環境のセットアップが簡単
- 軽量で高速なアプリケーション
- 個人利用に最適なシンプルさ

### トレードオフ

- SQLite: 将来的なスケールアップ時に移行が必要
- Bun: 一部の npm パッケージと互換性の問題の可能性

## 日付
2024-12-11

## 参照
- CLAUDE.md
- プロジェクト要件定義
